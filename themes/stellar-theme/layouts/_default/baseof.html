<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ if .IsHome }}{{ site.Title }}{{ else }}{{ .Title }} | {{ site.Title }}{{ end }}</title>
    <link rel="stylesheet" href="{{ "css/style.css" | relURL }}">
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <a href="{{ "/" | relURL }}" class="logo">{{ site.Title }}</a>
                <button class="theme-toggle" id="themeToggle" aria-label="åˆ‡æ¢æ·±è‰²æ¨¡å¼">
                    ğŸŒ“ æ·±è‰²æ¨¡å¼
                </button>
            </div>
        </div>
    </header>

    <main class="container">
        {{ block "main" . }}{{ end }}
    </main>

    <footer>
        <div class="container">
            <p>{{ site.Title }}</p>
        </div>
    </footer>

    <script>
        // æ·±è‰²æ¨¡å¼åˆ‡æ¢
        const themeToggle = document.getElementById('themeToggle');
        const html = document.documentElement;

        // ä» localStorage è¯»å–ä¸»é¢˜è®¾ç½®
        const currentTheme = localStorage.getItem('theme') || 'light';
        if (currentTheme === 'dark') {
            html.classList.add('dark');
            themeToggle.textContent = 'â˜€ï¸ æµ…è‰²æ¨¡å¼';
        }

        themeToggle.addEventListener('click', () => {
            html.classList.toggle('dark');
            const theme = html.classList.contains('dark') ? 'dark' : 'light';
            localStorage.setItem('theme', theme);
            themeToggle.textContent = theme === 'dark' ? 'â˜€ï¸ æµ…è‰²æ¨¡å¼' : 'ğŸŒ“ æ·±è‰²æ¨¡å¼';
        });
    </script>
</body>
</html>
